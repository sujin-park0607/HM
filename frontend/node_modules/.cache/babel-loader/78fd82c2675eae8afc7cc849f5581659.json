{"ast":null,"code":"//동기식 방식 ( async await 사용!!!!!)\nexport const fetchLogin = async _ref => {\n  let {\n    id,\n    password\n  } = _ref;\n  const response = await fetch(\"http://localhost:8000/api/login/\");\n\n  if (response.ok) {\n    //서버통신이 성공적으로 이루어지면 users에 json값 대입\n    const users = await response.json(); //users안 객체들을 순회하면서 그 객체들의 id값과 form 컴포넌트에서 받음 account의 id값과 비교\n    //서로 일치하는 것만 user에 대입\n\n    const user = users.find(user => user.api_id === id); //일치하는 user가 없거나, 비밀번호가 틀리면 해당 에러 생성\n\n    if (!user || user.password !== password) {\n      throw new Error(\"아이디 또는 비밀번호가 일치하지 않습니다.\");\n    } //모든게 일치하면 그 user 정보 return -> 이 return값이 form 컴포넌트 내 fetchLogin 함수 값으로 출력되는것\n    //form 컴포넌트에서 setUser값에 넣어야함\n\n\n    return user;\n  } //서버 통신이 안이루어졌을떄\n\n\n  throw new Error(\"서버 통신이 원할하지 않습니다.\");\n};","map":{"version":3,"names":["fetchLogin","id","password","response","fetch","ok","users","json","user","find","api_id","Error"],"sources":["C:/sujinworkspace/test_capstone/frontend/src/pages/api/PatchLogin.js"],"sourcesContent":["//동기식 방식 ( async await 사용!!!!!)\nexport const fetchLogin = async ({ id, password }) => {\n  const response = await fetch(\"http://localhost:8000/api/login/\");\n  \n  if (response.ok) {\n      //서버통신이 성공적으로 이루어지면 users에 json값 대입\n    const users = await response.json();\n    //users안 객체들을 순회하면서 그 객체들의 id값과 form 컴포넌트에서 받음 account의 id값과 비교\n    //서로 일치하는 것만 user에 대입\n    const user = users.find((user) => user.api_id === id);\n    //일치하는 user가 없거나, 비밀번호가 틀리면 해당 에러 생성\n    if (!user || user.password !== password) {\n      throw new Error(\"아이디 또는 비밀번호가 일치하지 않습니다.\");\n    }\n\n    //모든게 일치하면 그 user 정보 return -> 이 return값이 form 컴포넌트 내 fetchLogin 함수 값으로 출력되는것\n    //form 컴포넌트에서 setUser값에 넣어야함\n    return user;\n  }\n\n  //서버 통신이 안이루어졌을떄\n  throw new Error(\"서버 통신이 원할하지 않습니다.\");\n};"],"mappings":"AAAA;AACA,OAAO,MAAMA,UAAU,GAAG,cAA4B;EAAA,IAArB;IAAEC,EAAF;IAAMC;EAAN,CAAqB;EACpD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAD,CAA5B;;EAEA,IAAID,QAAQ,CAACE,EAAb,EAAiB;IACb;IACF,MAAMC,KAAK,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAApB,CAFe,CAGf;IACA;;IACA,MAAMC,IAAI,GAAGF,KAAK,CAACG,IAAN,CAAYD,IAAD,IAAUA,IAAI,CAACE,MAAL,KAAgBT,EAArC,CAAb,CALe,CAMf;;IACA,IAAI,CAACO,IAAD,IAASA,IAAI,CAACN,QAAL,KAAkBA,QAA/B,EAAyC;MACvC,MAAM,IAAIS,KAAJ,CAAU,yBAAV,CAAN;IACD,CATc,CAWf;IACA;;;IACA,OAAOH,IAAP;EACD,CAjBmD,CAmBpD;;;EACA,MAAM,IAAIG,KAAJ,CAAU,mBAAV,CAAN;AACD,CArBM"},"metadata":{},"sourceType":"module"}