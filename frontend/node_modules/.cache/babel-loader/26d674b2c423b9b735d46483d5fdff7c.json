{"ast":null,"code":"import _slicedToArray from\"C:/sujinworkspace/test_capstone/peoplecountfrount/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useRef}from'react';import{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Img=function Img(_ref){var video=_ref.video;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),img=_useState2[0],setImg=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),key=_useState4[0],setKey=_useState4[1];console.log(video);useEffect(function(){axios.get(\"http://localhost:8000/api/video/\".concat(video)).then(function(res){var dataTemp=res.data;setImg(dataTemp[0]);setKey(Math.random());});var timer=setInterval(function(){axios.get(\"http://localhost:8000/api/video/\".concat(video)).then(function(res){var dataTemp=res.data;setImg(dataTemp);setKey(Math.random());});},60*1000);return function(){return clearInterval(timer);};},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"img\",{src:\"data:image/png;base64,\".concat(img),alt:\"cctvImage\"},key)});};export default Img;","map":{"version":3,"names":["React","useCallback","useRef","useState","useEffect","axios","Img","video","img","setImg","key","setKey","console","log","get","then","res","dataTemp","data","Math","random","timer","setInterval","clearInterval"],"sources":["C:/sujinworkspace/test_capstone/peoplecountfrount/src/pages/img.js"],"sourcesContent":["import React, { useCallback, useRef } from 'react';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios'\n\nconst Img = ({video}) => {\n  const [img, setImg] = useState(\"\")\n  const [key, setKey] = useState(\"\")\n  console.log(video)\n  useEffect(()=> {\n    axios.get(`http://localhost:8000/api/video/${video}`)\n      .then((res) => {\n        const dataTemp = res.data\n        setImg(dataTemp[0])\n        setKey(Math.random())\n      })\n\n      let timer = setInterval(()=>{\n        axios.get(`http://localhost:8000/api/video/${video}`)\n        .then((res) => {\n          const dataTemp = res.data\n          setImg(dataTemp)\n          setKey(Math.random())\n        })\n      },60 * 1000)\n\n    return () => clearInterval(timer);\n  }, [])\n\n  return(\n    <>\n      <img key={key} src={`data:image/png;base64,${img}`} alt=\"cctvImage\" />\n      {/* <img key={key} src={img} alt=\"cctvImage\"></img> */}\n    </>\n  )\n}\n\nexport default Img;"],"mappings":"uIAAA,MAAOA,MAAP,EAAgBC,WAAhB,CAA6BC,MAA7B,KAA2C,OAA3C,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,gGAEA,GAAMC,IAAG,CAAG,QAANA,IAAM,MAAa,IAAXC,MAAW,MAAXA,KAAW,CACvB,cAAsBJ,QAAQ,CAAC,EAAD,CAA9B,wCAAOK,GAAP,eAAYC,MAAZ,eACA,eAAsBN,QAAQ,CAAC,EAAD,CAA9B,yCAAOO,GAAP,eAAYC,MAAZ,eACAC,OAAO,CAACC,GAAR,CAAYN,KAAZ,EACAH,SAAS,CAAC,UAAK,CACbC,KAAK,CAACS,GAAN,2CAA6CP,KAA7C,GACGQ,IADH,CACQ,SAACC,GAAD,CAAS,CACb,GAAMC,SAAQ,CAAGD,GAAG,CAACE,IAArB,CACAT,MAAM,CAACQ,QAAQ,CAAC,CAAD,CAAT,CAAN,CACAN,MAAM,CAACQ,IAAI,CAACC,MAAL,EAAD,CAAN,CACD,CALH,EAOE,GAAIC,MAAK,CAAGC,WAAW,CAAC,UAAI,CAC1BjB,KAAK,CAACS,GAAN,2CAA6CP,KAA7C,GACCQ,IADD,CACM,SAACC,GAAD,CAAS,CACb,GAAMC,SAAQ,CAAGD,GAAG,CAACE,IAArB,CACAT,MAAM,CAACQ,QAAD,CAAN,CACAN,MAAM,CAACQ,IAAI,CAACC,MAAL,EAAD,CAAN,CACD,CALD,EAMD,CAPsB,CAOrB,GAAK,IAPgB,CAAvB,CASF,MAAO,kBAAMG,cAAa,CAACF,KAAD,CAAnB,EAAP,CACD,CAlBQ,CAkBN,EAlBM,CAAT,CAoBA,mBACE,sCACE,YAAe,GAAG,iCAA2Bb,GAA3B,CAAlB,CAAoD,GAAG,CAAC,WAAxD,EAAUE,GAAV,CADF,EADF,CAMD,CA9BD,CAgCA,cAAeJ,IAAf"},"metadata":{},"sourceType":"module"}