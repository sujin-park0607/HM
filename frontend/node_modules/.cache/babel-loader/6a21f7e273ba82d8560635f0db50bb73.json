{"ast":null,"code":"import _defineProperty from\"C:/sujinworkspace/test_capstone/peoplecountfrount/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/sujinworkspace/test_capstone/peoplecountfrount/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/sujinworkspace/test_capstone/peoplecountfrount/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/sujinworkspace/test_capstone/peoplecountfrount/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/sujinworkspace/test_capstone/peoplecountfrount/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/sujinworkspace/test_capstone/peoplecountfrount/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import styled from'styled-components';import{Link,useNavigate}from'react-router-dom';import palette from'../lib/styles/palette';import Button from'../common/button';import{useState}from'react';import{fetchLogin}from'./api/PatchLogin';/**\n * 회원가입 또는 로그인 폼을 보여줍니다.\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AuthFormBlock=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  h3 {\\n    margin: 0;\\n    color: \",\";\\n    margin-bottom: 1rem; \\n  }\\n  .logo{\\n    margin:auto;\\n    margin-bottom:70px;\\n    margin-top:-30px;\\n    font-weight:700;\\n    width:60%;\\n    border: 3px solid #424242;\\n    color:black;\\n    font-size:50px;\\n    text-align:center; \\n  }\\n\"])),palette.gray[8]);/**\n* 스타일링된 input\n*/var StyledInput=styled.input(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n font-size: 1rem;\\n border: none;\\n border-bottom: 2px solid \",\";\\n padding-bottom: 0.5rem;\\n outline: none;\\n width: 100%;\\n &:focus {\\n   color: $oc-teal-7;\\n   border-bottom: 1px solid \",\";\\n }\\n & + & {\\n   margin-top: 1rem;\\n }\\n\"])),palette.gray[5],palette.gray[7]);/**\n* 폼 하단에 로그인 혹은 회원가입 링크를 보여줌\n*/var Footer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n margin-top: 2rem;\\n text-align: right;\\n a {\\n   color: \",\";\\n   text-decoration: underline;\\n   &:hover {\\n     color: \",\";\\n   }\\n }\\n span{\\n  color: gray;\\n  font-size: 18px;\\n  padding-right:20px;\\n }\\n\"])),palette.gray[6],palette.gray[9]);var ButtonWithMarginTop=styled(Button)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n margin-top: 1rem;\\n\"])));/**\n * 회원가입 / 로그인 페이지의 레이아웃을 담당하는 컴포넌트입니다.\n */ /* 화면 전체를 채움 */var AuthTemplateBlock=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  min-width:1280px;\\n  min-height:720px;\\n  background-size:100%;\\n  background-image: linear-gradient( rgba(20, 20, 20, 0.5), rgba(20, 20, 20, 0.5) ), url(\\\"https://images.unsplash.com/photo-1528642474498-1af0c17fd8c3?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1169&q=80\\\");\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  bottom: 0;\\n  right: 0;\\n  /* flex\\uB85C \\uB0B4\\uBD80 \\uB0B4\\uC6A9 \\uC911\\uC559 \\uC815\\uB82C */\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n\\n  .flex_container{\\n    display:flex;\\n    width: 1280px;\\n    height:720px;\\n    box-shadow: 27px 43px 43px -26px rgba(89,89,89,0.39);\\n  }\\n\"])));/* 흰색 박스 */var RightBox=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display:flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  color: white;\\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\\n  padding: 2rem;\\n  width: 640px;\\n  height:720px;\\n  border-radius: 0px 10px 10px 0px;\\n  background: white;\\n\"])));var LeftBox=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  .logo-area {\\n    display: block;\\n    padding-bottom: 2rem;\\n    text-align: center;\\n    font-weight: bold;\\n    letter-spacing: 2px;\\n  }\\n  font-family: 'Alata', sans-serif;\\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\\n  padding: 2rem;\\n  width: 640px;\\n  height:720px;\\n  border-radius: 10px 0px 0px 10px;\\n  background-image: radial-gradient(ellipse farthest-corner at 0 140%, #616161 0%, #333 70%, #424242 70%);\\n\\n  .top-logo-wrap{\\n    width:450px;\\n    height:180px;\\n  }\\n  h1{\\n    margin: auto;\\n    width:450px;\\n    font-size:51px;\\n    color: white;\\n    text-align: right;\\n    opacity: 0.9;\\n  }\\n  p{\\n    color: white;\\n    width:450px;\\n    margin: auto;\\n    padding-top: 50px;\\n    font-size:24px;\\n    text-align: right;\\n    opacity: 0.8;\\n  }\\n\"])));var LoginPage=function LoginPage(){var text='로그인';var history=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState({id:\"\",password:\"\"}),_useState6=_slicedToArray(_useState5,2),account=_useState6[0],setAccount=_useState6[1];var onSubmitAccount=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetchLogin(account);case 3:user=_context.sent;//성공하면 해당 user 아이디 패스워드값 셋팅\n// setCurrenUser(user);\n//성공하면 해당 url로 이동(main페이지로) \nhistory(\"/View/:\".concat(user.api_id),{state:user.api_id});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);// 실패하면 throw new Error(\"\") 값 출력\nwindow.alert(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function onSubmitAccount(_x){return _ref.apply(this,arguments);};}();var onChangeName=function onChangeName(e){setId(e.target.value);setAccount(_objectSpread(_objectSpread({},account),{},_defineProperty({},e.target.name,e.target.value)));};var onChangePassword=function onChangePassword(e){setPassword(e.target.value);setAccount(_objectSpread(_objectSpread({},account),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsx(AuthTemplateBlock,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_container\",children:[/*#__PURE__*/_jsxs(LeftBox,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"top-logo-wrap\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"How many people passed by?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Use floating population counting technology and various statistical graphs on our website.\"})]}),/*#__PURE__*/_jsx(RightBox,{children:/*#__PURE__*/_jsxs(AuthFormBlock,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:\"HM\"}),/*#__PURE__*/_jsx(\"h3\",{children:text}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(StyledInput,{autoComplete:\"username\",name:\"id\",placeholder:\"\\uC544\\uC774\\uB514\",onChange:onChangeName,value:id}),/*#__PURE__*/_jsx(StyledInput,{autoComplete:\"new-password\",name:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",type:\"password\",onChange:onChangePassword,value:password}),/*#__PURE__*/_jsx(ButtonWithMarginTop,{fullWidth:true,onClick:onSubmitAccount,children:text})]}),/*#__PURE__*/_jsx(Footer,{children:text==='로그인'?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]}):/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"\\uB85C\\uADF8\\uC778\"})})]})})]})});};export default LoginPage;","map":{"version":3,"names":["styled","Link","useNavigate","palette","Button","useState","fetchLogin","AuthFormBlock","div","gray","StyledInput","input","Footer","ButtonWithMarginTop","AuthTemplateBlock","RightBox","LeftBox","LoginPage","text","history","id","setId","password","setPassword","account","setAccount","onSubmitAccount","e","user","api_id","state","window","alert","onChangeName","target","value","name","onChangePassword"],"sources":["C:/sujinworkspace/test_capstone/peoplecountfrount/src/pages/LoginPage.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link, useNavigate } from 'react-router-dom';\nimport palette from '../lib/styles/palette';\nimport Button from '../common/button';\nimport { useState } from 'react';\nimport { fetchLogin } from './api/PatchLogin';\n/**\n * 회원가입 또는 로그인 폼을 보여줍니다.\n */\n\nconst AuthFormBlock = styled.div`\n  h3 {\n    margin: 0;\n    color: ${palette.gray[8]};\n    margin-bottom: 1rem; \n  }\n  .logo{\n    margin:auto;\n    margin-bottom:70px;\n    margin-top:-30px;\n    font-weight:700;\n    width:60%;\n    border: 3px solid #424242;\n    color:black;\n    font-size:50px;\n    text-align:center; \n  }\n`;\n\n/**\n* 스타일링된 input\n*/\nconst StyledInput = styled.input`\n font-size: 1rem;\n border: none;\n border-bottom: 2px solid ${palette.gray[5]};\n padding-bottom: 0.5rem;\n outline: none;\n width: 100%;\n &:focus {\n   color: $oc-teal-7;\n   border-bottom: 1px solid ${palette.gray[7]};\n }\n & + & {\n   margin-top: 1rem;\n }\n`;\n\n/**\n* 폼 하단에 로그인 혹은 회원가입 링크를 보여줌\n*/\nconst Footer = styled.div`\n margin-top: 2rem;\n text-align: right;\n a {\n   color: ${palette.gray[6]};\n   text-decoration: underline;\n   &:hover {\n     color: ${palette.gray[9]};\n   }\n }\n span{\n  color: gray;\n  font-size: 18px;\n  padding-right:20px;\n }\n`;\n\nconst ButtonWithMarginTop = styled(Button)`\n margin-top: 1rem;\n`;\n\n/**\n * 회원가입 / 로그인 페이지의 레이아웃을 담당하는 컴포넌트입니다.\n */\n\n/* 화면 전체를 채움 */\nconst AuthTemplateBlock = styled.div`\n  min-width:1280px;\n  min-height:720px;\n  background-size:100%;\n  background-image: linear-gradient( rgba(20, 20, 20, 0.5), rgba(20, 20, 20, 0.5) ), url(\"https://images.unsplash.com/photo-1528642474498-1af0c17fd8c3?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1169&q=80\");\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  /* flex로 내부 내용 중앙 정렬 */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  .flex_container{\n    display:flex;\n    width: 1280px;\n    height:720px;\n    box-shadow: 27px 43px 43px -26px rgba(89,89,89,0.39);\n  }\n`;\n\n/* 흰색 박스 */\nconst RightBox = styled.div`\n  display:flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n  padding: 2rem;\n  width: 640px;\n  height:720px;\n  border-radius: 0px 10px 10px 0px;\n  background: white;\n`;\nconst LeftBox = styled.div`\n  .logo-area {\n    display: block;\n    padding-bottom: 2rem;\n    text-align: center;\n    font-weight: bold;\n    letter-spacing: 2px;\n  }\n  font-family: 'Alata', sans-serif;\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n  padding: 2rem;\n  width: 640px;\n  height:720px;\n  border-radius: 10px 0px 0px 10px;\n  background-image: radial-gradient(ellipse farthest-corner at 0 140%, #616161 0%, #333 70%, #424242 70%);\n\n  .top-logo-wrap{\n    width:450px;\n    height:180px;\n  }\n  h1{\n    margin: auto;\n    width:450px;\n    font-size:51px;\n    color: white;\n    text-align: right;\n    opacity: 0.9;\n  }\n  p{\n    color: white;\n    width:450px;\n    margin: auto;\n    padding-top: 50px;\n    font-size:24px;\n    text-align: right;\n    opacity: 0.8;\n  }\n`;\n\n\nconst LoginPage = () => {\n  const text = '로그인';\n  const history = useNavigate();\n\n  const [id, setId] = useState('')\n  const [password, setPassword] = useState('');\n\n  const [account, setAccount] = useState({\n    id: \"\",\n    password: \"\",\n  });\n\n  const onSubmitAccount = async (e) => {\n    try {\n      const user = await fetchLogin(account);\n      //성공하면 해당 user 아이디 패스워드값 셋팅\n      // setCurrenUser(user);\n      //성공하면 해당 url로 이동(main페이지로) \n      history(`/View/:${user.api_id}`, { state: user.api_id });\n    } catch (error) {\n\n        // 실패하면 throw new Error(\"\") 값 출력\n      window.alert(error);\n    }\n  };\n\n  const onChangeName =  e => {\n    setId(e.target.value)\n    setAccount({\n      ...account,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const onChangePassword = e => {\n    setPassword(e.target.value)\n    setAccount({\n      ...account,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n\n  return (\n    <AuthTemplateBlock>\n      <div className='flex_container'>\n        <LeftBox>\n          <div className=\"top-logo-wrap\"></div>\n          <h1>How many people passed by?</h1>\n          <p>Use floating population counting technology and various statistical graphs on our website.</p>\n        </LeftBox>\n        <RightBox>\n          <AuthFormBlock>\n            <div className='logo'>HM</div>\n            <h3>{text}</h3>\n            <div>\n              <StyledInput \n                autoComplete='username' \n                name='id' \n                placeholder='아이디' \n                onChange={onChangeName}\n                value={id}  \n              />\n              <StyledInput\n                autoComplete='new-password' \n                name='password' \n                placeholder='비밀번호' \n                type='password' \n                onChange={onChangePassword}\n                value={password}\n                />\n              <ButtonWithMarginTop fullWidth onClick={onSubmitAccount}>\n                {text}\n              </ButtonWithMarginTop>\n            </div>\n            <Footer>\n              {text === '로그인' ? (\n                <div>\n                  <span>Don't have an account?</span>\n                  <Link to=\"/register\">회원가입</Link>\n                </div>\n              ) : (\n                <Link to='/'>로그인</Link>\n              )}\n            </Footer>\n          </AuthFormBlock>\n        </RightBox>\n      </div>\n    </AuthTemplateBlock>\n  )\n}\nexport default LoginPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}